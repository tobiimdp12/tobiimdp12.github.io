(this.webpackJsonpalkemychallenge=this.webpackJsonpalkemychallenge||[]).push([[0],{110:function(e,t,r){},111:function(e,t,r){},113:function(e,t,r){},114:function(e,t,r){},115:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),n=r(15),c=r.n(n),o=(r(80),r(81),r(32)),i=r(31),l=r.n(i),d=r(51),u=r(52),b=r.n(u),j=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"587224415651618",e.next=3,b.a.get("https://www.superheroapi.com/api.php/587224415651618/search/"+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"587224415651618",e.next=3,b.a.get("https://www.superheroapi.com/api.php/587224415651618/"+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("http://challenge-react.alkemy.org/",{email:t,password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=r(3),f=r(1);function g(){var e=Object(m.h)();var t=function(t){p(t.email,t.password).then((function(t){console.log(t),localStorage.setItem("JWToken",JSON.stringify(t));var r=localStorage.getItem("JWToken");console.log("JWToken: ",JSON.parse(r)),function(){var t=localStorage.getItem("JWToken");e(null!=t?"/":"/login")}()})).catch((function(e){return alert("Invalid email or password "+e)}))};return Object(f.jsx)(o.d,{initialValues:{email:"challenge@alkemy.org",password:"react"},onSubmit:function(e,r){(0,r.resetForm)(),console.log(e),console.log("send it"),t(e)},validate:function(e){var t={};return e.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="You have entry an invalid e-mail address.Please try again"):t.email="write your email",e.password||(t.password="write your password"),t},children:function(e){return Object(f.jsxs)(o.c,{className:"form-group card border-primary mb-3",children:[Object(f.jsxs)("div",{className:"card-body mx-auto p-5",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)(o.b,{type:"email",name:"email",id:"email",className:e.touched.email&&e.errors.email?"form-control is-invalid":"form-control is-valid",placeholder:"Write your Email",style:{width:"100%"}}),Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("small",{id:"emailHelp",className:"form-text  text-success",children:"We'll never share your email with anyone else."}),Object(f.jsx)(o.a,{name:"email",component:function(){return Object(f.jsx)("div",{className:"invalid-feedback",children:e.errors.email})}})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)(o.b,{type:"password",name:"password",id:"password",className:e.touched.password&&e.errors.password?"form-control is-invalid":"form-control is-valid",placeholder:"Write your password",style:{width:"100%"}}),Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)(o.a,{name:"password",component:function(){return Object(f.jsx)("div",{className:"invalid-feedback",children:e.errors.password})}})]})]}),Object(f.jsx)("button",{className:"btn btn-lg btn-primary",type:"submit",children:"Submit"})]})}})}function x(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"header css-3d-text-light  ",children:"LOGIN"})}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)(g,{})})]})}var O=r(6),v=r(13),y=(r(104),r(121)),N=r(119),w=r(74),k=r(120);function S(){return Object(f.jsx)("section",{children:Object(f.jsx)(y.a,{bg:"dark",variant:"dark",fixed:"top",expand:!1,children:Object(f.jsxs)(N.a,{fluid:!0,children:[Object(f.jsx)(y.a.Brand,{children:"HEROAPP"}),Object(f.jsx)(y.a.Toggle,{"aria-controls":"offcanvasNavbar"}),Object(f.jsxs)(y.a.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"end",className:"bg-body",children:[Object(f.jsx)(w.a.Header,{closeButton:!0,children:Object(f.jsx)(w.a.Title,{id:"offcanvasNavbarLabel",className:"text-info",children:"HEROAPP"})}),Object(f.jsx)(w.a.Body,{children:Object(f.jsxs)(k.a,{className:"justify-content-end flex-grow-1 pe-3 ",children:[Object(f.jsx)(k.a.Link,{as:v.b,to:"/",className:"nav-link active",children:"My Team"}),Object(f.jsx)(k.a.Link,{as:v.b,to:"/searchheroes",className:"nav-link active",children:"Select a Hero"}),Object(f.jsx)(k.a.Link,{as:v.b,to:"/login",onClick:function(){return e="JWToken",void localStorage.removeItem(e);var e},className:"btn btn-danger text-light",children:"Logout"})]})})]})]})})})}var I=r(10);r(66);r(55);function T(e){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["Height:",e.appearance.height[0]+"/"+e.appearance.height[1]]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["Full name:",e.biography["full-name"]]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["alias:",e.biography.aliases]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["eyes color:",e.appearance["eyes-color"]]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["hair color:",e.appearance["hair-color"]]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["work base:",e.work.base]})]}),Object(f.jsx)("div",{className:"d-flex flex-row justify-content-evenly align-items-center bottom-HeroCard",style:{height:"4rem"},children:Object(f.jsx)(v.b,{to:"/",className:"btn btn-danger",children:"Back"})})]})}var E=r(49),C=Object(E.b)({name:"team",initialState:{value:JSON.parse(localStorage.getItem("userHeroes"))},reducers:{add:function(e,t){console.log(t.payload),e.value.push(t.payload)},deleteMember:function(e,t){e.value=e.value.filter((function(e){return e.id!==t.payload}))}}}),P=C.actions,H=P.add,J=P.deleteMember,F=function(e){return e.team.value},A=C.reducer,L=r(27);function R(e){var t=Object(L.b)();return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center flex-wrap bottom-HeroCard",children:[Object(f.jsx)("button",{className:"btn btn-primary button",onClick:function(){!function(e){var t=JSON.parse(localStorage.getItem("userHeroes"));null!=t&&(t.map((function(r,a){if(r.id===e)return t.splice(a,1)})),I.b.warn("hero deleted successfully",{position:I.b.POSITION.TOP_CENTER}),localStorage.setItem("userHeroes",JSON.stringify(t)))}(e.id),t(J(e.id))},children:"DELETE"}),Object(f.jsx)(v.b,{to:"/moredetails/".concat(e.id),className:"btn btn-secondary button",children:"See more Details"})]})})}function M(e){var t=e.id,r=e.type,s=Object(a.useState)(),n=Object(O.a)(s,2),c=n[0],o=n[1],i=Object(L.b)();return Object(a.useEffect)((function(){h(t).then((function(e){return o(e.data)})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))}),[t]),c?Object(f.jsxs)("div",{className:"card border-dark mb-3 mt-3 bg-dark text-info",style:{width:"28rem"},children:[Object(f.jsxs)("div",{className:"card-header",children:["alignment: ",c.biography.alignment,"| id ",c.id]}),Object(f.jsx)("img",{src:c.image.url,className:"heroImage",alt:c.name}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h4",{className:"card-title",children:c.name}),Object(f.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["intelligence:",c.powerstats.intelligence]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["strength:",c.powerstats.strength]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["speed:",c.powerstats.speed]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["durability:",c.powerstats.durability]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["power:",c.powerstats.power]}),Object(f.jsxs)("li",{className:"list-group-item bg-dark text-info",children:["combat:",c.powerstats.combat]})]}),"Card"===r&&Object(f.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center flex-wrap bottom-HeroCard",children:[Object(f.jsx)("button",{className:"btn btn-primary button",onClick:function(){!0===function(e,t){var r,a=JSON.parse(localStorage.getItem("userHeroes"));return"good"===t&&(a.filter((function(e){return"good"===e.biography.alignment})).length<3&&!1===a.some((function(t){return t.id===e}))?(r=!0,I.b.success("added successfully",{position:I.b.POSITION.TOP_CENTER})):(I.b.error("error you already  have 3 good heroes or the hero is already in your team",{position:I.b.POSITION.TOP_CENTER}),r=!1)),"bad"===t&&(a.filter((function(e){return"bad"===e.biography.alignment})).length<3&&!1===a.some((function(t){return t.id===e}))?(r=!0,I.b.success("added successfully",{position:I.b.POSITION.TOP_CENTER})):(I.b.error("error you already  have 3 bad heroes or the hero is already in your team",{position:I.b.POSITION.TOP_CENTER}),r=!1)),"neutral"===t&&(a.filter((function(e){return"bad"===e.biography.alignment})).length<3&&a.filter((function(e){return"good"===e.biography.alignment})).length<3&&!1===a.some((function(t){return t.id===e}))?(r=!0,I.b.success("added successfully",{position:I.b.POSITION.TOP_CENTER})):(I.b.error("error you already have 6 heores in your team",{position:I.b.POSITION.TOP_CENTER}),r=!1)),r}(c.id,c.biography.alignment)&&(!function(e){var t=[];null==JSON.parse(localStorage.getItem("userHeroes"))&&localStorage.setItem("userHeroes",JSON.stringify(t)),h(e).then((function(e){(t=JSON.parse(localStorage.getItem("userHeroes"))).push(e.data),localStorage.setItem("userHeroes",JSON.stringify(t)),console.log("heroList",t)})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))}(c.id),i(H(c)))},children:"Add to your team!"}),Object(f.jsx)(v.b,{to:"/moredetails/".concat(c.id),className:"btn btn-secondary button",children:"See more Details"})]}),"moreDetails"===r&&Object(f.jsx)(T,{biography:c.biography,appearance:c.appearance,work:c.work}),"Team"===r&&Object(f.jsx)(R,{id:c.id})]})]}):""}function W(e){var t=e.heroes,r=e.type;return t?t.map((function(e,t){return t<20?Object(f.jsx)(M,{id:e.id,type:r},t):null})):Object(f.jsx)("div",{className:"spinner-border text-info"})}var _=r.p+"static/media/sfx.b09d6f09.mp3",B=r(72);r(110);function q(){var e=Object(B.a)(_,{volume:.25,interrupt:!0}),t=Object(O.a)(e,1)[0],r=Object(a.useState)([]),s=Object(O.a)(r,2),n=s[0],c=s[1],o=Object(a.useState)(""),i=Object(O.a)(o,2),l=i[0],d=i[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(I.a,{}),Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"header css-3d-text-light",children:"SEARCH A HERO"})}),Object(f.jsx)(S,{}),Object(f.jsx)("input",{type:"text",className:"form-control form-control-lg",onChange:function(e){if(d(e.target.value),!/^[A-Za-z0-9_-]+$/.test(e.target.value))return d(""),void c([]);console.log(e.target.value),j(l).then((function(r){console.log(r.data.results),0!==e.target.value.length&&c(r.data.results),t()})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))},placeholder:"Type the name of your future hero"}),Object(f.jsx)("div",{className:"inputText",children:"you can only type numbers or letters"}),Object(f.jsx)("div",{className:"d-flex flex-row justify-content-evenly align-items-center flex-wrap",children:Object(f.jsx)(W,{heroes:n,type:"Card"})})]})}r(111);function D(e,t,r,a,s,n,c){var o=[],i="You dont have any member on your team";if(o.push(e),o.push(t),o.push(r),o.push(a),o.push(s),o.push(n),o.sort((function(e,t){return t-e})),null!=c&&c.length<=0)return i;switch(o[0]){case e:i="intelligence";break;case t:i="strength";break;case r:i="speed";break;case a:i="durability";break;case s:i="power";break;case n:i="combat";break;default:i=""}return i}var z=r(73),Z=r.n(z),Y=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.powerstats.intelligence&&(t+=parseInt(e.powerstats.intelligence))})),(t/=e.length).toFixed(2)},G=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.powerstats.strength&&(t+=parseInt(e.powerstats.strength))})),(t/=e.length).toFixed(2)},$=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.powerstats.speed&&(t+=parseInt(e.powerstats.speed))})),(t/=e.length).toFixed(2)},K=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.powerstats.durability&&(t+=parseInt(e.powerstats.durability))})),(t/=e.length).toFixed(2)},V=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.powerstats.power&&(t+=parseInt(e.powerstats.power))})),(t/=e.length).toFixed(2)},Q=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.powerstats.combat&&(t+=parseInt(e.powerstats.combat))})),(t/=e.length).toFixed(2)},U=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.appearance.height[1]&&(t+=parseInt(e.appearance.height[1]))})),(t/=e.length).toFixed(2)},X=function(e){var t=0;return null!=e&&e.forEach((function(e){"null"!==e.appearance.height[1]&&(t+=parseInt(e.appearance.weight[1]))})),(t/=e.length).toFixed(2)};function ee(){var e=Object(L.c)(F),t=Object(a.useState)({options:{chart:{foreColor:"#fff"},plotOptions:{radar:{size:70,polygons:{strokeColors:"#e9e9e9",fill:{colors:["#00008B","#000000"]}}}},stroke:{width:1,colors:["#33b2df"]},colors:["#33b2df"],tooltip:{y:{formatter:function(e){return e}}},xaxis:{categories:["","intelligence","strength","speed","durability","power","combat"]},yaxis:{tickAmount:7,labels:{formatter:function(e,t){return t%2===0?e:""}}}}}),r=Object(O.a)(t,2),s=r[0];r[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(I.a,{}),Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"header",children:"MY TEAM"})}),Object(f.jsx)("hr",{}),Object(f.jsx)(S,{}),Object(f.jsxs)("div",{className:"stats",children:[Object(f.jsxs)("div",{className:"height-weight",children:[Object(f.jsxs)("p",{children:[U(e)," CM"]}),Object(f.jsxs)("p",{children:[X(e)," KG"]})]}),Object(f.jsx)("div",{className:"graphic",children:Object(f.jsx)(Z.a,{options:s.options,series:[{name:"Score",data:[20,Y(e),G(e),$(e),K(e),V(e),Q(e)]}],type:"radar",width:"100%"})})]}),Object(f.jsx)("div",{className:"text-info text-center typeTeam",children:D(Y(e),G(e),$(e),K(e),V(e),Q(e),e)}),Object(f.jsx)("div",{className:"d-flex flex-row justify-content-evenly align-items-center flex-wrap",children:Object(f.jsx)(W,{heroes:e,type:"Team"})})]})}function te(){var e=Object(m.i)().id;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"text-danger",children:Object(f.jsx)("h1",{children:"More details "})}),Object(f.jsx)("div",{className:"d-flex flex-row justify-content-evenly align-items-center flex-wrap",children:Object(f.jsx)(M,{id:e,type:"moreDetails"})})]})}r(113);var re=r.p+"static/media/404error.ef6cfe67.png";function ae(){return Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)("img",{src:re,className:"notFound",alt:"404 error"})})}r(114);function se(){return Object(f.jsx)("footer",{className:"footer",children:"Made with \u2764\ufe0f By Tobias Selva"})}var ne=function(){return function(){var e=!1;return null!=localStorage.getItem("JWToken")&&(e=!0),e}()?Object(f.jsx)(m.b,{}):Object(f.jsx)(m.a,{to:"/login"})};var ce=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(v.a,{children:Object(f.jsxs)(m.e,{children:[Object(f.jsx)(m.c,{element:Object(f.jsx)(ne,{}),children:Object(f.jsx)(m.c,{path:"/",element:Object(f.jsx)(ee,{})})}),Object(f.jsx)(m.c,{element:Object(f.jsx)(ne,{}),children:Object(f.jsx)(m.c,{path:"/searchheroes",element:Object(f.jsx)(q,{})})}),Object(f.jsx)(m.c,{path:"/moredetails/:id",element:Object(f.jsx)(te,{})}),Object(f.jsx)(m.c,{path:"/login",element:Object(f.jsx)(x,{})}),Object(f.jsx)(m.c,{path:"*",element:Object(f.jsx)(ae,{})})]})}),Object(f.jsx)("div",{}),Object(f.jsx)(se,{})]})},oe=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,122)).then((function(t){var r=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;r(e),a(e),s(e),n(e),c(e)}))},ie=Object(E.a)({reducer:{team:A}});c.a.render(Object(f.jsxs)(L.a,{store:ie,children:[Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(ce,{})}),","]}),document.getElementById("root")),oe()},55:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){}},[[115,1,2]]]);
//# sourceMappingURL=main.13d788eb.chunk.js.map